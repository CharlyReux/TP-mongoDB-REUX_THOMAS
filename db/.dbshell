db.showcollection()
use forum
show collection
show collections
db.posts.find()
show collections
db.posts.find().skip(10)
db.posts.find().skip(5)
db.posts.find().limit(5)
show collections
db.threads.find().limit(5)
db.users.find().limit(5)
db.threads.find().limit(5)
db.users.find().limit(5)
use foru
use forum
db.users.find().limit(5)
db.getCollectionInfos()
db.users.stats()
use forum
db.users.distincts("age")
db.users.distinct("age")
db.users.find()
db.users.find({"age":{$or:[20,30,40]}})
db.users.find({"$or":[{"age":20},{"age":25},{"age":35}]})
db.users.find({"$gt":[{"age":30}]}).sort({"age":1})
db.users.find({"age":{"$gt":30}).sort({"age":1})  )
db.users.find({"age":{"$gt":30}}).sort({"age":1})
db.users.find({"age":{"$gt":30}}).sort({"age":1}).explain()
db.users.createIdex({"age"})
db.users.createIndex({"age"})
db.users.createIndex("age")
db.users.createIndex({"age":1})
db.users.find({"age":{"$gt":30}}).sort({"age":1}).explain()
db.users.getIndexes()
db.users.drop("age_1")
db.users.dropIndex("age_1")
db.users.find()
db.users.ensureIndex({ "nickname" : "hashed" })
db.users.getIndexes()
db.users.dropIndex("nickname_hashed")
db.users.ensureIndex({ "age" : "hashed" })
db.users.find({"age":{"$gt":30}}).sort({"age":1}).explain()
use forum
db.users.find
db.users.find()
db.books.aggregate( [ { $project : {"nickname" : 1 } } ] )
db.users.aggregate( [ { $project : {"nickname" : 1 } } ] )
db.users.aggregate( [ { $group : {"nickname" : 1 } } ] )
db.users.aggregate( [ { $group : {_id:"$nickname"  } } ] )
db.users.aggregate( [ { $group : { "nickname":"$nickname", "age":{$avg:"$age"}  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}  } } ] )
it
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
it
db.users.aggregate( [ {$project:{"nickname":1}},{ $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
db.users.aggregate( [ { $project : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
it
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] ).find({"myCount":2})
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] ).where({"myCount":2})
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] ).sort("myCount")
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] ).sort
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] ).sort()
db.users.aggregate( [ { $project : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
db.users.find({"age":{"$gt":30}}).sort({"age":1}).explain("executionstat")
db.users.find({"age":{"$gt":30}}).sort({"age":1}).explain("executionStats")
db.users.aggregate( [ { $group : { "nickname":1, "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }, "nickname":"$nickname"  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }, "nickname":1  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }, "nickname":{$push:"$nickname"}  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }, "nickname":"$nickname"  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }, "nickname":{$push:"$nickname"}  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1 }, "nickname":{$first:"$nickname"}  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1.0 }, "nickname":{$first:"$nickname"}  } } ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1.0 }, "nickname":{$first:"$nickname"}  } }, $project:{_id:0} ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, myCount: { $sum: 1.0 }, "nickname":{$first:"$nickname"}  } }, {$project:{_id:0}} ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, count: { $sum: 1.0 }, "nickname":{$first:"$nickname"}  } }, {$project:{_id:0}} ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, count: { $sum: 1.0 }, "nickname":{$first:"$nickname"}  } }, {$project:{_id:0}},{$sort:{"age":-1}} ] )
db.users.aggregate( [ { $group : { "_id":"$nickname", "age":{$avg:"$age"}, count: { $sum: 1.0 }, "nickname":{$first:"$nickname"}  } }, {$project:{_id:0}},{$sort:{"count":-1}} ] )
db.posts.aggregate([{  $lookup: { from: 'users',   pipeline: [{$sample:{ size: 1 }}]}} ]);
db.posts.aggregate([{  $lookup: { from: 'users',   pipeline: [{$sample:{ size: 1 }}],    as: 'OrdersData'}} ]);
db.users.drop()
db.posts.drop()
db.thread.drop()
db.threads.drop()
db.posts.drop()
db.thread.drop()
db.threads.drop()
db.posts.drop()
db.users.drop()
db.posts.find()
